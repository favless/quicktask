<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickTask</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="preload">

    <div class="loading-screen"></div>

    <header>
        <div class="header-container">
            <div class="header-left">
                <img src="assets/logo.png" alt="">
            </div>
            <div class="header-right">
                <button onclick="toggleAdminPanel()" class="admin-button">
                    <!-- temporary fix -->
                    <svg viewBox="0 0 16 16" style="scale: 0.85;">
                        <path d="M16 8L13 11L10 10L6 6L5 3L8 0L11 1L15 5L16 8Z"/>
                        <path d="M0 13L5.08579 7.91418L8.08579 10.9142L3 16L0 13Z"/>
                    </svg>
                </button>
                <button onclick="toggleDarkMode()" class="darkmode-button">
                    <svg class="sun" viewBox="0 0 512 512" version="1.1">
                        <g id="Page-1" stroke="none" stroke-width="1">
                            <g transform="translate(21.333333, 21.333333)">
                                <path d="M256,384 L256,469.333333 L213.333333,469.333333 L213.333333,384 L256,384 Z M355.346224,325.176335 L415.686003,385.516113 L385.516113,415.686003 L325.176335,355.346224 L355.346224,325.176335 Z M113.987109,325.176335 L144.156999,355.346224 L83.81722,415.686003 L53.6473307,385.516113 L113.987109,325.176335 Z M234.666667,118.01971 C299.089002,118.01971 351.313623,170.244331 351.313623,234.666667 C351.313623,299.089002 299.089002,351.314049 234.666667,351.314049 C203.711846,351.372867 174.007802,339.102338 152.119399,317.213934 C130.230995,295.325531 117.960466,265.621487 118.019285,234.666667 C118.019285,170.244331 170.244331,118.01971 234.666667,118.01971 Z M469.333333,213.333333 L469.333333,256 L384,256 L384,213.333333 L469.333333,213.333333 Z M85.3333333,213.333333 L85.3333333,256 L3.55271368e-15,256 L3.55271368e-15,213.333333 L85.3333333,213.333333 Z M83.81722,53.6473307 L144.156999,113.987109 L113.987109,144.156999 L53.6473307,83.81722 L83.81722,53.6473307 Z M385.516113,53.6473307 L415.686003,83.81722 L355.346224,144.156999 L325.176335,113.987109 L385.516113,53.6473307 Z M256,5.90116627e-13 L256,85.3333333 L213.333333,85.3333333 L213.333333,5.82278887e-13 L256,5.90116627e-13 Z" id="Combined-Shape">
                    
                    </path>
                            </g>
                        </g>
                    </svg>
                    <svg class="moon" viewBox="0 0 48 48">
                        <g>
                          <g>
                            <rect width="48" height="48" fill="none"/>
                          </g>
                          <g>
                            <path d="M24.2,5h-.1a19.2,19.2,0,0,0-17,21.1A19.2,19.2,0,0,0,24.2,42.9h2.1a19.2,19.2,0,0,0,14.4-6.4A.9.9,0,0,0,40,35H38.1c-8.8-.5-16.6-8.4-16.9-17.1A17.4,17.4,0,0,1,25,6.6,1,1,0,0,0,24.2,5Z"/>
                          </g>
                        </g>
                      </svg>
                </button>
            </div>
        </div>
    </header>

    <main>
        <div>
            <div class="task-list-container">
                <div class="filter-bar">
                    <div class="filter-button-wrapper">
                        <button class="filter-button text bold" onclick="toggleFilterDropdown()">
                            <span id="sort-label">Sort by all</span>
                            <svg id="dropdown-arrow" viewBox="0 0 24 24">
                                <g>
                                  <path d="M7 10l5 5 5-5"/>
                                </g>
                            </svg>
                        </button>
                        <div id="filter-dropdown">
                            <button onclick="changeFilterMode('all');toggleFilterDropdown()">All</button>
                            <button onclick="changeFilterMode('pending');toggleFilterDropdown()">Pending</button>
                            <button onclick="changeFilterMode('completed');toggleFilterDropdown()">Completed</button>
                        </div>
                    </div>
                    
                    <div class="add-button-wrapper">
                        <button class="add-button text bold" onclick="toggleAddMenu()">
                            <span id="add-button-label">Add a task</span>
                            +
                        </button>
                    </div>
                    
                </div>
                <div class="task-list">
                    <div id="task-template" style="display: none;">
                        <span id="task-label" class="text bold"></span>
                        <button onclick="userEditTask(this, 'completed')" data-tooltip="Complete" class="task-btn">
                            <svg style="fill: var(--text);" viewBox="0 0 32 32">
                                <g>
                                    <g>
                                        <g>
                                            <polygon points="11.941,28.877 0,16.935 5.695,11.24 11.941,17.486 26.305,3.123 32,8.818    "/>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </button>
                        <div class="completed-btns">
                            <button onclick="userEditTask(this.parentElement, 'remove')" data-tooltip="Delete" class="task-btn">
                                <svg style="fill: var(--text);" viewBox="0 0 485 485">
                                    <g>
                                        <g>
                                            <rect x="67.224" width="350.535" height="71.81"/>
                                            <path d="M417.776,92.829H67.237V485h350.537V92.829H417.776z M165.402,431.447h-28.362V146.383h28.362V431.447z M256.689,431.447    h-28.363V146.383h28.363V431.447z M347.97,431.447h-28.361V146.383h28.361V431.447z"/>
                                        </g>
                                    </g>
                                </svg>
                            </button>
                            <button onclick="userEditTask(this.parentElement, 'pending')" data-tooltip="Reset" class="task-btn">
                                <svg style="fill: var(--text)" viewBox="0 0 512 512">
                                    <path d="M512,192V21.3l-64.9,64.9C400.3,33.4,332.2,0,256,0C114.6,0,0,114.6,0,256s114.6,256,256,256c70.7,0,134.7-28.6,181-75  l-45.3-45.2C357,426.5,309,448,256,448c-106,0-192-85.9-192-192c0-106.1,86-192,192-192c58.5,0,110.4,26.5,145.5,67.8L341.3,192H512  z"/>
                                </svg>
                            </button>
                            <svg style="fill: var(--text); opacity: 30%; margin-right: 20px" viewBox="0 0 32 32">
                                <g>
                                    <g>
                                        <g>
                                            <polygon points="11.941,28.877 0,16.935 5.695,11.24 11.941,17.486 26.305,3.123 32,8.818    "/>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
            <div class="desc-container">
                <div class="desc-panel">
                    <button class="task-edit-button" onclick="toggleEditMenu(this)">
                        <svg viewBox="0 -0.5 21 21">
                            <g stroke="none" stroke-width="1">
                                <g transform="translate(-99.000000, -400.000000)">
                                    <g transform="translate(56.000000, 160.000000)">+
                                        <path d="M61.9,258.010643 L45.1,258.010643 L45.1,242.095788 L53.5,242.095788 L53.5,240.106431 L43,240.106431 L43,260 L64,260 L64,250.053215 L61.9,250.053215 L61.9,258.010643 Z M49.3,249.949769 L59.63095,240 L64,244.114985 L53.3341,254.031929 L49.3,254.031929 L49.3,249.949769 Z"></path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        Edit Task
                    </button>
                    <h1 id="details-task-name" class="text bold">Welcome to QuickTask!</h1>
                    
                    <p id="details-task-desc" class="text">To start managing your tasks, press the + button to add a task. <br> Notes will appear here.</p>
                </div>
            </div>
        </div>
    </main>

    <div id="custom-popup">
        <svg viewBox="0 0 416.979 416.979">
            <g>
                <path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85   c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786   c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576   c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765   c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"/>
            </g>
        </svg>
        <span id="popup-label" class="text">
            this is a popup
        </span>
    </div>

    <div class="menu-wrapper" id="admin-menu-wrapper">
        <button onclick="toggleAdminPanel()"></button>
        <div class="menu-container">
            <div class="admin-menu">
                <div class="topbar">
                    <button onclick="toggleAdminPanel()">x</button>
                </div>
                <h2 class="text bold">Admin</h2>
                <div class="admin-inputs text bold">
                    <label>ID</label>
                    <input type="text" id="id-field" autocomplete="off" placeholder="Type text here...">
                    <label>name</label>
                    <input type="text" id="name-field" autocomplete="off" placeholder="Type text here...">
                    <label>description</label>
                    <input type="text" id="desc-field" autocomplete="off" placeholder="Type text here...">
                    <label>status</label>
                    <select id="status-field">
                        <option value="pending">pending</option>
                        <option value="completed">completed</option>
                    </select>
                    <div>
                        <button class="text bold" onclick="addTask(this)">Add task</button>
                        <button class="text bold" onclick="editTask(this, null, null, null, null)">Edit from ID</button>
                        <button class="text bold" onclick="removeTask(this)">Remove from ID</button>
                    </div>
                </div>
            </div>
            <div class="data-menu">
                <div class="topbar">
                    <button onclick="toggleAdminPanel()">x</button>
                </div>
                <h2 class="text bold">View</h2>
                <div class="data-list" id="data-list">
                    <div class="entry text bold entry-header">
                        <div>
                            <span>id</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span>name</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span>desc</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span>status</span>
                            <div></div>
                        </div>
                    </div>
                    <div class="entry text" style="display: none;" id="data-template">
                        <div>
                            <span id="data-id">1</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span id="data-name">hello</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span id="data-desc">world!</span>
                            <div class="seperator"></div>
                        </div>
                        <div>
                            <span id="data-status">pending</span>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <div class="menu-wrapper" id="edit-menu-wrapper">
        <button onclick="toggleEditMenu()"></button>
        <div class="menu-container">
            <div class="edit-menu">
                <div class="topbar">
                    <button onclick="toggleAdminPanel()">x</button>
                </div>
                <h2 class="text bold">Edit Task</h2>
                <div class="add-inputs text bold">
                    <label>Name</label>
                    <input type="text" id="name-field" autocomplete="off" placeholder="e.g. Wash the dishes">
                    <label>Note</label>
                    <input type="text" id="desc-field" autocomplete="off" placeholder="e.g. Don't forget the cups">
                    <div>
                        <button class="text bold" onclick="editTask(this)">Add</button>
                </div>
            </div>
        </div>
    </div>

    <div class="menu-wrapper" id="add-menu-wrapper">
        <button onclick="toggleAddMenu()"></button>
        <div class="menu-container">
            
            <div class="add-menu">
                <div class="topbar">
                    <button onclick="toggleAddMenu()">x</button>
                </div>
                <h2 class="text bold">Add a Task</h2>
                <div class="add-inputs text bold">
                    <label>Name</label>
                    <input type="text" id="name-field" autocomplete="off" placeholder="e.g. Wash the dishes">
                    <label>Note</label>
                    <input type="text" id="desc-field" autocomplete="off" placeholder="e.g. Don't forget the cups">
                    <div>
                        <button class="text bold" onclick="addTask(this)">Add</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</body> 
</html>